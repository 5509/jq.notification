/*!
 * jq.notification
 * chrome style notification bar
 *
 * @version      0.1.0
 * @author       nori (norimania@gmail.com)
 * @copyright    5509 (http://5509.me/)
 * @license      The MIT License
 * @link         https://github.com/5509/jq.notification
 *
 * 2012-04-19 04:29
 */(function(a,b){a.notification=function(){function c(a){this.namespace="Notification";return this instanceof c?this.init(a):new c(a)}c.prototype.init=function(c){var d=this;d.conf=a.extend({content:"this is content",yes:"yes",no:"no",easing:"swing",duration:.2,wait:0,closeLabel:"&times;",addClass:b,barClass:"notification_bar",btnsClass:"notification_btns",closeBtnClass:"notification_close",contentClass:"notification_content"},c);d._createBar();d._eventify();a("body").append(d.$bar);d.height=d.$bar[0].offsetHeight;d.$bar.css("top",-d.height).hide()};c.prototype._eventify=function(){var a=this;a.$yes&&a.$yes.click(function(){a.$bar.trigger("notificationYes")});a.$no&&a.$no.click(function(){a.$bar.trigger("notificationNo")});a.$close.click(function(){a.hide()})};c.prototype._createBar=function(){var c=this,d=c.conf;c.$bar=a('<div class="'+d.barClass+'"></div>').addClass(d.addClass);c.$btns=a('<div class="'+d.btnsClass+'"></div>');c.$close=a('<span class="'+d.closeBtnClass+'">'+d.closeLabel+"</span>");c.$content=a('<p class="'+d.contentClass+'">'+d.content+"</div>");c.$yes=b;c.$no=b;c.$bar.append(c.$content,c.$close);if(d.yes){c.$yes=a('<input type="button" value="'+d.yes+'">');c.$btns.append(c.$yes)}if(d.no){c.$no=a('<input type="button" value="'+d.no+'">');c.$btns.append(c.$no)}if(!d.yes&&!d.no)return;c.$bar.append(c.$btns)};c.prototype._changeMessage=function(a){var b=this;b.$content.text(a)};c.prototype._changeClass=function(a){var b=this;b.$bar.attr("class","notification_bar").addClass(a)};c.prototype.bind=function(){var a=this,c=arguments,d=b,e=function(b,c){if(!/notificationYes|notificationNo/.test(b))return;a.$bar.bind(b,c)};if(typeof c[0]=="object")for(d in c[0])e(d,c[0][d]);else e(c[0],c[1])};c.prototype.show=function(c){var d=this,e=d.conf,f=a.extend({wait:b,autoHide:!1,message:!1,klass:!1},c),g=(f.wait||e.wait)*1e3;d.displayTimer&&clearTimeout(d.displayTimer);f.message&&d._changeMessage(f.message);f.klass&&d._changeClass(f.klass);d.$bar.show();setTimeout(function(){d.$bar.animate({top:0},{easing:e.easing,duration:e.duration*1e3,complete:function(){d.$bar.trigger("notificationShow")}})},g);f.autoHide&&(d.displayTimer=setTimeout(function(){d.hide()},f.autoHide*1e3+g))};c.prototype.hide=function(){var a=this,b=a.conf;a.displayTimer&&clearTimeout(a.displayTimer);a.$bar.animate({top:-a.height},{easing:b.easing,duration:b.duration*1e3,complete:function(){a.$bar.hide();a.$bar.trigger("notificationHide")}})};c.prototype.destroy=function(){var a=this;a.$bar.remove()};return c}()})(jQuery);